DROP DATABASE IF EXISTS CARS;
CREATE DATABASE CARS;
USE CARS;
DROP TABLE IF EXISTS ACCIDENT_BB04;
DROP TABLE IF EXISTS DRIVER_BB04;
DROP TABLE IF EXISTS CAR_BB04;
DROP TABLE IF EXISTS PARTICIPATED_BB04;
-- ACCIDENT(REPORT_NUMBER, LOCATION, DATE)
CREATE TABLE ACCIDENT_BB04
(
 REPORT_NUMBER VARCHAR (50),
 LOCATION VARCHAR (50),
 PRIMARY KEY (REPORT_NUMBER)
);
-- PERSON(DRIVER_ID, ADDRESS, NAME)
CREATE TABLE PERSON_BB04
(
 DRIVER_ID VARCHAR (50),
 ADDRESS VARCHAR (50),
 NAME VARCHAR (50),
 PRIMARY KEY (DRIVER_ID)
);
-- CAR(LICENSE_ID, MODEL, YEAR)
CREATE TABLE CAR_BB04
(
 LICENSE_ID VARCHAR (50),
 MODEL VARCHAR (50),
 YEAR INT,
 DRIVER_ID VARCHAR (50) NOT NULL,
 PRIMARY KEY (LICENSE_ID),
 FOREIGN KEY (DRIVER_ID) REFERENCES PERSON_BB04 (DRIVER_ID)
);
-- PARTICIPATED (N-N CAR AND ACCIDENT)
CREATE TABLE PARTICIPATED_BB04
(
 LICENSE_ID VARCHAR (50),
 REPORT_NUMBER VARCHAR (50),
 PRIMARY KEY (LICENSE_ID,REPORT_NUMBER),
 FOREIGN KEY (LICENSE_ID) REFERENCES CAR_BB04 (LICENSE_ID),
 FOREIGN KEY (REPORT_NUMBER) REFERENCES ACCIDENT_BB04 (REPORT_NUMBER)
);
-- POLICY (POLICY_ID)
CREATE TABLE POLICY_BB04
(
 POLICY_ID VARCHAR (50),
 LICENSE_ID VARCHAR (50) NOT NULL UNIQUE,
 PRIMARY KEY (POLICY_ID),
 FOREIGN KEY (LICENSE_ID ) REFERENCES CAR_BB04 (LICENSE_ID)
);